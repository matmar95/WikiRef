function randomize(e){for(var t,n,l=e.length;0!==l;)n=Math.floor(Math.random()*l),t=e[l-=1],e[l]=e[n],e[n]=t;return e}function defaultResult(){result=[],$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:"https://en.wikipedia.org/w/api.php?action=query&origin=*&format=json&list=categorymembers&cmtitle=Category:Emerging_technologies&cmlimit=max&cmtype=page",dataType:"json",success:function(e,t,n){$.each(e.query.categorymembers,function(e,t){e>=3&&result.push(t.title)}),randomize(result);var l='<ul id="defaultList">';for(i=1;i<=20;i++)l+='<li><a href="page.php?page='+result[i].replace(/ /g,"%i20")+'" style=" width: 100%; color: rgba(255,237,79,0.58); text-align: left;" onclick=""><h7><div class="well well-sm" style=" background: rgba(0, 0, 0, 0.55); border-color: rgba(0, 0, 0, 0.55);">'+result[i]+"</div></h7></a></li>";l+="</ul>",document.getElementById("defaultResult").innerHTML=l},error:function(e){console.log(e)}})}function searchResult(e){var t=[],n="";console.log(e),$.ajax({type:"GET",url:"https://en.wikipedia.org/w/api.php?action=query&list=search&origin=*&format=json&srsearch="+e+"&srlimit=10",contentType:"application/json; charset=utf-8",dataType:"json",success:function(l,o,r){$.each(l.query.search,function(e,n){t.push([n.title,n.snippet])});for(var a=0;a<t.length;a++)n=n+'<div class=row><a style="color: rgba(255,237,79,0.58);" href="page.php?page='+t[a][0].replace(/ /g,"%20")+'" onclick=""><h3>'+t[a][0]+"</h3></a>"+t[a][1]+"</div>";$(document.body).removeClass("logoBackground"),$(document.body).addClass("normalBackground"),document.getElementById("containerResultSearch").style.display="",document.getElementById("containerResultSearch").innerHTML=n,document.getElementById("rowWiki").innerHTML="",document.getElementById("navList").innerHTML='<li><a href="#containerResultSearch">Search Term: '+e+"</a></li>"},error:function(e){console.log(e)}})}function getWikiPage(e){var t=e.replace(/%20/g," ");$.ajax({type:"GET",url:"https://en.wikipedia.org/w/api.php?action=parse&origin=*&format=json&page="+t,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e,n,l){$.each(e.parse.text,function(e,t){htmlResult=t}),document.getElementById("rowWiki").innerHtml="",document.getElementById("rowWiki").innerHTML="<h1>"+e.parse.title+"</h1>"+htmlResult,$(document).ready(editPage()),$.each(e.parse.categories,function(n,l){"Emerging_technologies"==l["*"]?(searchResultCross(t),searchYouTubeResult(t),searchTwitterResult(t),searchOpenStreetMaps(t),document.getElementById("liTitle").style.display="",document.getElementById("barTitle").innerHTML=e.parse.title,document.getElementById("liGraph").style.display=""):(document.getElementById("liTitle").style.display="",document.getElementById("barTitle").innerHTML=e.parse.title,document.getElementById("colCrossRef").style.display="none",searchOpenStreetMaps(t))})},error:function(e){console.log(e)}})}function searchResultCross(e){var t=e.replace(/ /g,"+"),n=[],l="";$.ajax({type:"GET",url:"http://api.crossref.org/works?query.title="+t+"&sort=relevance",dataType:"json",success:function(e){if($.each(e.message.items,function(e,t){n.push([t.title[0],t.URL,t.publisher])}),numResultCross=e.message["total-results"],n.length>0){document.getElementById("colCrossRef").style.display="";for(var t=0;t<n.length;t++)l=l+'<div class=row><a target="_blank" href="'+n[t][1]+'"><h5><b>'+n[t][0]+'</b></h5></a><h6 id="label'+t+'"><i>Author: '+n[t][2]+"</i></h6></div><br>";document.getElementById("containerCross").innerHTML=l}},error:function(e){console.log(e)}})}function searchYouTubeResult(e){var t=e.replace(/ /g,"+"),n=[],l="";$.ajax({type:"GET",url:"https://www.googleapis.com/youtube/v3/search?part=snippet&order=viewCount&type=video&videoCategoryId=28&q="+t+"&key=AIzaSyBmTFMK4SI3d2FYZV38B_cbhQFch8Lk9SU",dataType:"json",success:function(t){if($.each(t.items,function(e,t){n.push([t.snippet.title,t.id.videoId])}),numResultYouTube=t.pageInfo.totalResults,n.length>0){$("#h2Tube").append(e+" related Videos");for(var o=0;o<n.length;o++)l+='<iframe class="mySlides" style=" width: 100%; height: 77vh; display: none;" src="https://www.youtube.com/embed/'+n[o][1]+'"frameborder="0" allowfullscreen></iframe>';l+='<button class="w3-btn w3-transparent w3-display-left" style="font-size: 150px; border:0px; color: rgba(255,237,79,0.58);" onclick="plusDivs(-1)">&#10094;</button><button class="w3-btn w3-transparent w3-display-right" style="font-size: 150px; border:0px; color: rgba(255,237,79,0.58);" onclick="plusDivs(1)">&#10095;</button>',document.getElementById("YouTube").innerHTML=l,document.getElementById("liTube").style.display="",document.getElementsByClassName("mySlides")[0].style.display=""}else console.log("No result YouTUBE")},error:function(e){console.log(e)}})}function closeModalTube(){var e=document.getElementsByClassName("mySlides");for(i=0;i<e.length;i++)url=e[i].src,e[i].src=url}function searchTwitterResult(e){var t=[],n="",l="",o="",r=/(https?:\/\/[^\s]+)/g,a=0;$.ajax({url:"Script/searchTwitter.php",type:"GET",dataType:"json",data:{searchTermTwit:e},success:function(e){if($.each(e.statuses,function(e,n){l=n.text,o=l.replace(r,""),t.push([n.user.name,o,n.favorite_count,n.retweet_count])}),numResultTwitter=t.length,t.length>0){document.getElementById("titleTwit").style.display="",(a=t.length)>20&&(a=20);for(var d=0;d<a;d++)n+='<div class=row><div class="well well-sm" style=" background: rgba(0, 0, 0, 0.55); border-color: rgba(0, 0, 0, 0.55); margin-right: 100px; margin-left:0px;"><table><tr><td rowspan="3"><i class="fa fa-twitter" style="font-size:35px; margin: 12px; color: #1DA1F2"></i></td><td><h4><span class="label label-default" style="padding: 8px; font-size: 15px;"> '+t[d][0]+'</span></h4></td></tr><tr><td><h6 style=" padding-left: 10px;"><i>'+t[d][1]+'</i></h6></td></tr><tr><td><span class="label label-default" style=" margin-top: 20px; font-size: 14px;"><i class="fa fa-retweet" aria-hidden="true"></i> '+t[d][3]+'</span> <span class="label label-default" style=" margin-top: 20px; margin-left: 8px; font-size: 14px; color:"><i style="color:#CC181E" class="fa fa-heart" aria-hidden="true"></i> '+t[d][2]+"</span></td> </tr></table></div></div><br>";document.getElementById("containerTwit").innerHTML=n,document.getElementById("liTwit").style.display=""}else document.getElementById("rowTwitter").style.display="none"},error:function(e){console.log(e)}})}function searchOpenStreetMaps(e){term=e,resultGM=[],refinedTerm=e.replace(/ /g,"+"),refinedTerm=refinedTerm.replace(/_/g,"+"),$.ajax({type:"GET",url:"http://nominatim.openstreetmap.org/search?format=json&q="+refinedTerm,datatype:"json",success:function(t){if($.each(t,function(e,t){resultGM[e]=[t.lat,t.lon,t.display_name]}),resultGM.length>0){for(numResultMaps=resultGM.length,map=L.map("map").setView([resultGM[0][0],resultGM[0][1]],3),L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>'}).addTo(map),i=0;i<resultGM.length;i++)L.marker([resultGM[i][0],resultGM[i][1]]).addTo(map).bindPopup(resultGM[i][2]);document.getElementById("h2Maps").innerHTML=e+" in the World",document.getElementById("liMap").style.display=""}},error:function(e){console.log(e)}})}function createGraphic(){new d3.svg.BubbleChart({supportResponsive:!0,size:600,innerRadius:600/3.5,radiusMin:50,data:{items:[{text:"YouTube",count:numResultYouTube},{text:"CrossRef",count:numResultCross},{text:"Twitter",count:numResultTwitter},{text:"OpenStreetMap",count:numResultMaps}],eval:function(e){return e.count},classed:function(e){return e.text.split(" ").join("")}},plugins:[{name:"lines",options:{format:[{textField:"count",classed:{count:!0},style:{"font-size":"28px","font-family":"Source Sans Pro, sans-serif","text-anchor":"middle",fill:"white"},attr:{dy:"0px",x:function(e){return e.cx},y:function(e){return e.cy}}},{textField:"text",classed:{text:!0},style:{"font-size":"14px","font-family":"Source Sans Pro, sans-serif","text-anchor":"middle",fill:"white"},attr:{dy:"20px",x:function(e){return e.cx},y:function(e){return e.cy}}}],centralFormat:[{style:{"font-size":"60px",fill:"black"},attr:{}},{style:{"font-size":"40px",fill:"black"},attr:{dy:"40px"}}]}}]})}function checkPass(){var e=document.getElementById("password1"),t=document.getElementById("password2"),n=document.getElementById("registerMessage");e.value==t.value&&e.value.length>0&&t.value.length>0?(t.style.backgroundColor="#00cc44",n.innerHTML="Passwords match !",n.style.color="green"):e.value!=t.value&&e.value.length>0&&t.value.length>0?(t.style.backgroundColor="#ff3333",n.innerHTML="Password don't match !",n.style.color="red"):(t.style.background="white",n.innerHTML="")}function closeSession(){var e=window.location.href;console.log(e),$.ajax({url:"Script/closeSession.php",type:"POST",dataType:"text",traditional:!0,data:{url:e}}).done(window.location.reload())}function loginUser(){var e=document.getElementById("userLogin").value,t=document.getElementById("passwordLogin").value,n=document.getElementById("loginMessage");""!=e&&""!=t?$.ajax({url:"Script/login.php",type:"POST",dataType:"text",traditional:!0,data:{username:e,password:t},success:function(e){"NOTLOGIN"!=e?window.location.reload():"NOTLOGIN"==e&&(n.innerHTML="",n.innerHTML="User/Password are wrong or not registred",n.style.color="red",n.style.fontSize="15px")},error:function(e){console.log(e)}}):(n.style.color="red",$("#loginMessage").html("Fill all fields !"))}function registerUser(){var e=document.getElementById("password1"),t=document.getElementById("password2"),n=document.getElementById("name").value,l=document.getElementById("surname").value,o=document.getElementById("userSignUp").value,r=document.getElementById("registerMessage");""!=e.value&&""!=t.value&&""!=n&&""!=l&&""!=o?e.value==t.value?$.ajax({url:"Script/signUp.php",type:"POST",dataType:"text",traditional:!0,data:{name:n,surname:l,username:o,password:e.value},success:function(e){console.log(e),"REGISTERED"==e?window.location.reload():"NOTREGISTERED"==e&&(r.innerHTML="",r.innerHTML="Existing user !",r.style.color="red",r.style.fontSize="18px")},error:function(e){console.log(e)}}):e.value.length>0&&t.value.length>0&&(r.style.color="red",$("#registerMessage").html("Password don't match !")):(r.style.color="red",$("#registerMessage").html("Fill all fields !"))}function plusDivs(e){showDivs(slideIndex+=e)}function showDivs(e){var t,n=document.getElementsByClassName("mySlides");for(e>n.length&&(slideIndex=1),e<1&&(slideIndex=n.length),t=0;t<n.length;t++)n[t].style.display="none";for(n[slideIndex-1].style.display="",t=0;t<n.length;t++)t!=slideIndex-1&&(url=n[t].src,n[t].src=url)}function onLoad(){$(document).ready(defaultResult())}function onClickSearch(e){document.getElementById("containerLanding").style.display="none",$(document).ready(searchResult(e))}function getSelectedTerm(e){console.log("Clicked on: "+e),getWikiPage(e)}function reloadSearch(e){window.location="index.php?search="+e}function openNav(){document.getElementById("mySidenav").style.width="200px",document.getElementById("main").style.marginRight="220px",document.getElementById("main").style.paddingRight="20px",document.getElementById("containerCross").style.maxWidth="19%",document.getElementById("map").style.width="90%",document.getElementById("iconMenu").setAttribute("onclick","closeNav()")}function closeNav(){document.getElementById("mySidenav").style.width="0",document.getElementById("main").style.marginRight="0",document.getElementById("main").style.paddingRight="0",document.getElementById("containerCross").style.maxWidth="30%",document.getElementById("iconMenu").setAttribute("onclick","openNav()")}function editPage(){var e=document.getElementById("rowWiki").getElementsByTagName("a");for(i=0;i<e.length;i++){var t=e[i].href.split("/");"wiki"===t[t.length-2]&&e[i].setAttribute("href","page.php?page="+t[t.length-1].replace("/_/g","%20"))}for(n=document.getElementById("rowWiki").getElementsByTagName("ul");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByTagName("ol");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByTagName("img");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByTagName("sup");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("vertical-navbox");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("thumb");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("img");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("ambox");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("tright");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("mbox-image");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("mbox-text");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("reference");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("hatnote");n.length>0;)n[0].parentNode.removeChild(n[0]);null!=(n=document.getElementById("References"))&&n.parentNode.removeChild(n);for(n=document.getElementById("rowWiki").getElementsByClassName("references");n.length>0;)n[0].parentNode.removeChild(n[0]);null!=(n=document.getElementById("External_links"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("See_also"))&&n.parentNode.removeChild(n);for(n=document.getElementById("rowWiki").getElementsByClassName("navbox-title");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("navbox-list");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("reflist");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("navbox");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("infobox");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("toc");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("boilerplate");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("stub");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("searchaux");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("wikitable");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("quotebox");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("metadata plainlinks plainlist mbox-small");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("image");n.length>0;)n[0].parentNode.removeChild(n[0]);for(n=document.getElementById("rowWiki").getElementsByClassName("mw-editsection");n.length>0;)n[0].parentNode.removeChild(n[0]);null!=(n=document.getElementById("List_of_awards_and_honors"))&&n.parentNode.removeChild(n);for(n=document.getElementById("rowWiki").getElementsByTagName("table");n.length>0;)n[0].parentNode.removeChild(n[0]);null!=(n=document.getElementById("Local_media"))&&n.parentNode.removeChild(n);for(var n=document.getElementById("rowWiki").getElementsByTagName("dl");n.length>0;)n[0].parentNode.removeChild(n[0]);null!=(n=document.getElementById("Notable_people"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Further_reading"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("External_sources"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Notes"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Bibliography_and_further_reading"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Website_sources"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Potential_benefits"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Potential_downsides"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("cite_ref_4"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Academic_centers"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Conferences"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Organizations"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Websites"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Other"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Bibliography"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Other_examples"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Text"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Video"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("AI_textbooks"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("History_of_AI"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Other_sources"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Spaceplane_vehicles_and_projects"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Live_action_films"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Live_action_television_series"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Animation"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Literature"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Sequenced_genomes"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Footnotes"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Articles"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Common"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Operators"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Specifications"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Potential_candidates_for_de-extinction"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Notes_and_References"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Sources"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Popular_culture"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Fleet"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Airships"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Elevated_early_warning_systems"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Multi-payload_tethered_aerostats"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Tactical_towers"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Tactical_aerostat"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Alternative_cutters"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Usage"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Brands"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Additional_reading"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Publications"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Notes_and_references"))&&n.parentNode.removeChild(n),null!=(n=document.getElementById("Similar_projects"))&&n.parentNode.removeChild(n)}var numResultCross=0,numResultYouTube=0,numResultTwitter=0,map,numResultMaps=0,slideIndex=1;showDivs(slideIndex);